<form method="post" id="constanciaForm" enctype="multipart/form-data" class="max-w-md mx-auto space-y-6 p-4 sm:max-w-xl md:max-w-2xl bg-white shadow-lg rounded-lg">
  {% csrf_token %}

  <!-- Título -->
  <h2 class="text-center text-lg font-semibold text-gray-700">Solicitar Constancia</h2>

  <!-- Contenedor para errores globales cliente/servidor -->
  <div id="formErrorsTop" class="text-red-600 text-sm"></div>

  <!-- Nombre y Documento (solo lectura) -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700">Nombre Completo</label>
      <div class="mt-1 w-full rounded-lg bg-gray-100 px-3 py-2 text-gray-700 text-sm shadow-sm">
        {{ form.nombre_completo.value }}
      </div>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700">Número Documento</label>
      <div class="mt-1 w-full rounded-lg bg-gray-100 px-3 py-2 text-gray-700 text-sm shadow-sm">
        {{ form.numero_documento.value }}
      </div>
    </div>
  </div>

  <!-- Correo -->
  <div>
    <label class="block text-sm font-medium text-gray-700">Correo electrónico</label>
    <div class="mt-1 w-full rounded-lg bg-gray-100 px-3 py-2 text-gray-700 text-sm shadow-sm">
      {{ form.email.value }}
    </div>
  </div>

  <!-- Años de constancia -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700">Año de Inicio</label>
      <select 
        name="{{ form.fecha_inicial.name }}" 
        id="{{ form.fecha_inicial.id_for_label }}"
        class="mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 text-sm">
        <option value="" {% if not form.fecha_inicial.value %}selected{% endif %} disabled>-- Selecciona año --</option>
        {% for choice in form.fecha_inicial.field.choices %}
          <option value="{{ choice.0 }}" {% if choice.0 == form.fecha_inicial.value %}selected{% endif %}>{{ choice.1 }}</option>
        {% endfor %}
      </select>
      <div class="client-error-container mt-1"></div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Año de Fin</label>
      <select 
        name="{{ form.fecha_final.name }}" 
        id="{{ form.fecha_final.id_for_label }}"
        class="mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 text-sm">
        <option value="" {% if not form.fecha_final.value %}selected{% endif %} disabled>-- Selecciona año --</option>
        {% for choice in form.fecha_final.field.choices %}
          <option value="{{ choice.0 }}" {% if choice.0 == form.fecha_final.value %}selected{% endif %}>{{ choice.1 }}</option>
        {% endfor %}
      </select>
      <div class="client-error-container mt-1"></div>
    </div>
  </div>

  <hr class="my-2">

  <!-- Comentario -->
  <div>
    <label class="block text-sm font-medium text-gray-700">Comentario</label>
    <textarea 
      name="{{ form.comentario.name }}" 
      id="{{ form.comentario.id_for_label }}" 
      rows="4"
      placeholder="Escribe tu comentario aquí..."
      class="mt-1 block w-full rounded-lg border border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 text-sm">{% if form.comentario.value %}{{ form.comentario.value }}{% endif %}</textarea>
    <div class="client-error-container mt-1"></div>
  </div>

  <!-- Botón -->
  <div class="flex justify-end">
    <button type="submit"
            class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1">
      Solicitar
    </button>
  </div>
</form>
